<p>send-expedition works!</p>


<div class="ships">
    <div class="ship" *ngFor="let ship of ships" [class.blocked]="ship.blocked">
        <div class="name">{{ ship. name}}</div>
        <button class="ship-btn" (click)="addShip(ship)">Add</button>
    </div>
</div>

<div class="islands" *ngIf="islandsLoaded">
    <div class="island" *ngFor="let island of islands" [class.island-choice]="island.id==islandId">
        {{island.name}}
        <button class="island-btn" (click)="chooseIsland(island.id)">Choose</button>
    </div>
    <button class="island-btn" (click)="chooseIsland(undefined)">None</button>
</div>
<button class="islands-btn" *ngIf="!islandsLoaded" (click)="getIslands()">Load islands</button>

<div class="ships ships-to-send">
    <div class="ship" *ngFor="let ship of shipsToSend">
        <div class="name">{{ ship. name}}</div>

        <div class="equipment cargo">
            <button *ngFor="let item of cargo.get(ship.id)" class="eq-cell" (click)="subtractCargoFromShip(ship.id, item.id)">
                <!-- <img [src]="'/assets/'+ item.icon +'.png'" alt="" class="icon"> -->
                <div class="amount">{{item.amount}}</div>
            </button>
        </div>
        <button class="unload-btn" (click)="unloadCargo(ship.id)">Unload</button>
        <button class="ship-btn" (click)="switchEquipment(ship.id)">Equip</button>
        <div class="equipment">
            <button *ngFor="let item of equipment" class="eq-cell" (click)="addCargoToShip(ship.id, item.itemId, item.amount)">
                <img [src]="'/assets/'+ item.icon +'.png'" alt="" class="icon">
                <div class="amount">{{item.amount}}</div>
            </button>
        </div>
        <button class="ship-btn" (click)="cancelShip(ship)">Cancel</button>
    </div>
</div>
<button class="send-btn" (click)="sendExpedition()">Send expedition</button>
